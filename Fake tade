-- PerfectLua: Fake Trade Simulation Script
-- Category: Tools / UI Simulation
-- Description: Creates a client-side visual trade window with "green details" to simulate a trade.

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

-- Type Definitions
type PetData = {
    Name: string,
    Rarity: string,
    Color: Color3
}

-- Configuration
local GREEN_THEME: Color3 = Color3.fromRGB(85, 255, 127)
local UI_TITLE: string = "Secure Trade Simulation"

-- Scripted Pets Table
local ScriptedPets: {PetData} = {
    {Name = "Shadow Dragon", Rarity = "Legendary", Color = Color3.fromRGB(138, 43, 226)},
    {Name = "Frost Dragon", Rarity = "Legendary", Color = Color3.fromRGB(173, 216, 230)},
    {Name = "Mega Neon Cat", Rarity = "Common", Color = Color3.fromRGB(255, 105, 180)}
}

-- Function to create the UI safely
local function CreateTradeUI()
    local success, err = pcall(function()
        local player = Players.LocalPlayer
        local pGui = player:WaitForChild("PlayerGui")

        -- Main ScreenGui
        local screenGui = Instance.new("ScreenGui")
        screenGui.Name = "FakeTradeUI"
        screenGui.ResetOnSpawn = false
        screenGui.Parent = pGui

        -- Main Background Frame
        local mainFrame = Instance.new("Frame")
        mainFrame.Name = "MainFrame"
        mainFrame.Size = UDim2.new(0, 500, 0, 350)
        mainFrame.Position = UDim2.new(0.5, -250, 0.5, -175)
        mainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        mainFrame.BorderSizePixel = 0
        mainFrame.Parent = screenGui

        -- Rounded Corners
        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(0, 12)
        corner.Parent = mainFrame

        -- Top Bar (Green Detail)
        local topBar = Instance.new("Frame")
        topBar.Size = UDim2.new(1, 0, 0, 40)
        topBar.BackgroundColor3 = GREEN_THEME
        topBar.BorderSizePixel = 0
        topBar.Parent = mainFrame

        local topCorner = Instance.new("UICorner")
        topCorner.CornerRadius = UDim.new(0, 12)
        topCorner.Parent = topBar

        local title = Instance.new("TextLabel")
        title.Size = UDim2.new(1, 0, 1, 0)
        title.BackgroundTransparency = 1
        title.Text = UI_TITLE
        title.TextColor3 = Color3.fromRGB(255, 255, 255)
        title.Font = Enum.Font.GothamBold
        title.TextSize = 18
        title.Parent = topBar

        -- Grid for Pets
        local scrollingFrame = Instance.new("ScrollingFrame")
        scrollingFrame.Size = UDim2.new(0.9, 0, 0.6, 0)
        scrollingFrame.Position = UDim2.new(0.05, 0, 0.2, 0)
        scrollingFrame.BackgroundTransparency = 1
        scrollingFrame.CanvasSize = UDim2.new(0, 0, 2, 0)
        scrollingFrame.ScrollBarThickness = 4
        scrollingFrame.Parent = mainFrame

        local gridLayout = Instance.new("UIGridLayout")
        gridLayout.CellSize = UDim2.new(0, 100, 0, 100)
        gridLayout.CellPadding = UDim2.new(0, 10, 0, 10)
        gridLayout.Parent = scrollingFrame

        -- Function to add a visual pet card
        local function AddPetCard(pet: PetData)
            local card = Instance.new("Frame")
            card.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            card.BorderSizePixel = 2
            card.BorderColor3 = GREEN_THEME -- The green detail requested
            card.Parent = scrollingFrame

            local cardCorner = Instance.new("UICorner")
            cardCorner.CornerRadius = UDim.new(0, 8)
            cardCorner.Parent = card

            local petName = Instance.new("TextLabel")
            petName.Size = UDim2.new(1, 0, 0.7, 0)
            petName.BackgroundTransparency = 1
            petName.Text = pet.Name
            petName.TextColor3 = pet.Color
            petName.TextWrapped = true
            petName.Font = Enum.Font.GothamMedium
            petName.TextSize = 14
            petName.Parent = card

            local rarityLabel = Instance.new("TextLabel")
            rarityLabel.Size = UDim2.new(1, 0, 0.3, 0)
            rarityLabel.Position = UDim2.new(0, 0, 0.7, 0)
            rarityLabel.BackgroundTransparency = 1
            rarityLabel.Text = pet.Rarity
            rarityLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
            rarityLabel.Font = Enum.Font.Gotham
            rarityLabel.TextSize = 10
            rarityLabel.Parent = card
        end

        -- Populate with scripted pets
        for _, pet in ipairs(ScriptedPets) do
            AddPetCard(pet)
        end

        -- Accept Button (Green Detail)
        local acceptBtn = Instance.new("TextButton")
        acceptBtn.Size = UDim2.new(0, 200, 0, 45)
        acceptBtn.Position = UDim2.new(0.5, -100, 0.85, 0)
        acceptBtn.BackgroundColor3 = GREEN_THEME
        acceptBtn.Text = "ACCEPT TRADE"
        acceptBtn.Font = Enum.Font.GothamBold
        acceptBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        acceptBtn.TextSize = 16
        acceptBtn.Parent = mainFrame

        local btnCorner = Instance.new("UICorner")
        btnCorner.CornerRadius = UDim.new(0, 8)
        btnCorner.Parent = acceptBtn

        -- Simple Interaction
        acceptBtn.MouseButton1Click:Connect(function()
            acceptBtn.Text = "WAITING FOR OTHER PLAYER..."
            acceptBtn.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
            
            task.delay(2, function()
                acceptBtn.Text = "TRADE SUCCESSFUL"
                acceptBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
                print("[PerfectLua] Simulated trade completed visually.")
            end)
        end)
    end)

    if not success then
        warn("[PerfectLua] Error creating Trade UI: " .. tostring(err))
    end
end

-- Execute the UI creation
CreateTradeUI()

print('[PerfectLua] Script loaded successfully')
